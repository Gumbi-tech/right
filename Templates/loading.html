<!DOCTYPE html>
<html lang="en">

<head>
  <!DOCTYPE html>
  <html lang="en">

  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Rapid Rescue: Fast and reliable emergency assistance at your fingertips." />
    <meta name="author" content="Rapid Rescue Team" />
    <meta name="keywords" content="Rapid Rescue, emergency services, ambulance, fast response, urgent assistance" />
    <meta name="theme-color" content="#0b023f" />
    <!-- Open Graph (for Facebook, LinkedIn) -->
    <meta property="og:title" content="Rapid Rescue - Emergency Assistance" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.rapidrescue.com" />
    <meta property="og:image" content="https://www.rapidrescue.com/images/logo/Logo.png" />
    <meta property="og:description"
      content="Get emergency assistance with Rapid Rescue, providing urgent and reliable services when you need them most." />
    <meta property="og:locale" content="en_US" />
    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Rapid Rescue - Emergency Assistance" />
    <meta name="twitter:description"
      content="Reliable emergency response services for urgent situations. Contact Rapid Rescue for immediate assistance." />
    <meta name="twitter:image" content="https://www.rapidrescue.com/images/logo/Logo.png" />
    <meta name="twitter:site" content="@RapidRescue" />

    <!-- tab icon -->
    <link rel="icon" href="/static/images/logo/logo-iconpng.png" />

    <!-- font awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
      integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
      crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- css -->
    <link rel="stylesheet" href="/static/css/style.css" />
    <title>Rapid Rescue</title>
    <style>
      main {
        height: 70vh;
        display: grid;
        place-items: center;
      }

      .loader {
        width: fit-content;
        font-weight: bold;
        font-family: sans-serif;
        font-size: 30px;
        padding-bottom: 8px;
        background: linear-gradient(currentColor 0 0) 0 100%/0% 3px no-repeat;
        animation: l2 2s linear infinite;
      }

      .loader:before {
        content: "Requesting Ambulance...";
      }

      @keyframes l2 {
        to {
          background-size: 100% 3px;
        }
      }
    </style>
  </head>

<body onload="checkStatus()">

  <header>
    <div class="header">
      <div class="header__container">
        <div class="header__left">
          <a href="/">
            <img src="/static/images/logo/logo-white.png" alt="logo" />
          </a>
          <ul class="header__nav header__nav--primary">
            <li class="header__item"><a href="/profile">Profile</a></li>
            <li class="header__item"><a href="javascript:void(0)" class="active">Request Ambulance</a></li>
            <li class="header__item"><a href="/first-aid">First Aid</a></li>
            <li class="header__item"><a href="/">More</a></li>
          </ul>
        </div>

        <div class="header__right">
          <div class="header__nav header__nav--secondary">
            {% if name%}

            <button class="header__item" onclick="window.location.href='/signout'">
              {{name}}
            </button>
            {% else %}
            <button class="header__item" onclick="window.location.href='/login'">
              Log in
            </button>
            <button class="header__item" onclick="window.location.href='/signup'">
              Sign up
            </button>
            {% endif %}
            <button class="header__item header__item--mobile">
              <svg aria-hidden="true" focusable="false" height="16px" fill="currentColor" viewBox="0 0 12 12">
                <path d="M0 3h12.002v2H0zm0 5h12.002v2H0z"></path>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main>
    <div class="loader"></div>
  </main>

  <script>
    function checkStatus() {
      setInterval(function () {
        fetch("/check-status")
          .then((response) => response.json())
          .then((data) => {
            if (data.status === "On Call") {
              window.location.href = "/confirm";
            }
          });
      }, 5000); // Poll every 5 seconds
    }

  </script>
</body>

</html>